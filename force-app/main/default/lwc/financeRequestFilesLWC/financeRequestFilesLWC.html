<template>
    <lightning-card title="Insurance Companies Files">
        <template if:true={files.length}>
            <div class="slds-m-around_medium">
                <template for:each={files} for:item="file">
                    <div key={file.id} class="slds-m-bottom_x-small">
                        <lightning-input type="checkbox" label={file.name} data-id={file.id} onchange={handleCheckboxChange}></lightning-input>
                    </div>
                </template>
            </div>
            <div class="slds-m-around_medium">
                <lightning-button label="Download Selected Files" variant="brand" onclick={handleDownload} disabled={isLoading}></lightning-button>
            </div>
        </template>
        <template if:false={files.length}>
            <p class="slds-m-around_medium">No related files found.</p>
        </template>
    </lightning-card>
</template>